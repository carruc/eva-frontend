{"ast":null,"code":"var _jsxFileName = \"/home/carruc/repos/eva-frontend/client/src/components/ProjectModal.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { X, Calendar, Clock } from 'lucide-react';\nimport { HexColorPicker } from 'react-colorful';\nimport './ProjectModal.css';\n\n// Implements requirement D5: Project creation modal with deadline support\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProjectModal = ({\n  project,\n  existingDeadline,\n  onSave,\n  onClose\n}) => {\n  _s();\n  const [formData, setFormData] = useState({\n    name: '',\n    color: '#3b82f6',\n    deadline: '',\n    deadlineTime: '23:59',\n    // Default to end of day\n    hasDeadline: false\n  });\n  const [errors, setErrors] = useState({});\n  const [showColorPicker, setShowColorPicker] = useState(false);\n  const [dateInput, setDateInput] = useState(''); // For dd/mm/yy format\n\n  // Predefined color palette\n  const colorPalette = ['#3b82f6', '#ef4444', '#10b981', '#f59e0b', '#8b5cf6', '#ec4899', '#06b6d4', '#84cc16', '#f97316', '#6366f1', '#14b8a6', '#f43f5e', '#8b5a2b', '#64748b', '#dc2626'];\n\n  // Initialize form data when editing\n  useEffect(() => {\n    if (project) {\n      setFormData(prev => ({\n        ...prev,\n        name: project.name,\n        color: project.color,\n        hasDeadline: !!existingDeadline\n      }));\n\n      // If there's an existing deadline, populate the deadline fields\n      if (existingDeadline) {\n        const deadlineDate = new Date(existingDeadline.date);\n        const dateValue = deadlineDate.toISOString().split('T')[0];\n        setFormData(prev => ({\n          ...prev,\n          deadline: dateValue,\n          deadlineTime: deadlineDate.toTimeString().slice(0, 5)\n        }));\n        setDateInput(formatDateToShort(dateValue));\n      }\n    }\n  }, [project, existingDeadline]);\n  const handleInputChange = e => {\n    const {\n      name,\n      value,\n      type,\n      checked\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'checkbox' ? checked : value\n    }));\n\n    // Clear errors when user starts typing\n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: null\n      }));\n    }\n\n    // Clear deadline fields when hasDeadline is unchecked\n    if (name === 'hasDeadline' && !checked) {\n      setFormData(prev => ({\n        ...prev,\n        deadline: '',\n        deadlineTime: '23:59'\n      }));\n      setDateInput('');\n    }\n  };\n  const handleColorChange = color => {\n    setFormData(prev => ({\n      ...prev,\n      color: color\n    }));\n  };\n\n  // Helper function to format date from YYYY-MM-DD to dd/mm/yy\n  const formatDateToShort = dateString => {\n    if (!dateString) return '';\n    const date = new Date(dateString);\n    const day = date.getDate().toString().padStart(2, '0');\n    const month = (date.getMonth() + 1).toString().padStart(2, '0');\n    const year = date.getFullYear().toString().slice(-2); // Last 2 digits\n    return `${day}/${month}/${year}`;\n  };\n\n  // Helper function to parse dd/mm/yy format\n  const parseDateInput = dateStr => {\n    const parts = dateStr.split(/[/.-]/);\n    if (parts.length === 3) {\n      const day = parseInt(parts[0], 10);\n      const month = parseInt(parts[1], 10);\n      let year = parseInt(parts[2], 10);\n\n      // Convert 2-digit year to 4-digit year\n      if (year >= 0 && year <= 30) {\n        year += 2000; // 00-30 -> 2000-2030\n      } else if (year >= 31 && year <= 99) {\n        year += 1900; // 31-99 -> 1931-1999\n      } else if (year >= 1900) {\n        // Already 4-digit year, keep as is\n      } else {\n        return null; // Invalid year\n      }\n      if (day >= 1 && day <= 31 && month >= 1 && month <= 12) {\n        // Convert to YYYY-MM-DD format for internal use\n        return `${year}-${month.toString().padStart(2, '0')}-${day.toString().padStart(2, '0')}`;\n      }\n    }\n    return null;\n  };\n\n  // Handle date input change\n  const handleDateInputChange = e => {\n    let value = e.target.value;\n\n    // Remove all non-numeric characters except slashes\n    value = value.replace(/[^\\d/]/g, '');\n\n    // Auto-format with slashes as user types\n    if (value.length >= 2 && value.charAt(2) !== '/') {\n      value = value.substring(0, 2) + '/' + value.substring(2);\n    }\n    if (value.length >= 5 && value.charAt(5) !== '/') {\n      value = value.substring(0, 5) + '/' + value.substring(5);\n    }\n\n    // Limit to 8 characters (dd/mm/yy)\n    if (value.length > 8) {\n      value = value.substring(0, 8);\n    }\n    setDateInput(value);\n\n    // Only try to parse if we have a complete date (8 characters: dd/mm/yy)\n    if (value.length === 8) {\n      const parsedDate = parseDateInput(value);\n      if (parsedDate) {\n        // Additional validation for deadlines - must be today or future\n        const selectedDate = new Date(parsedDate);\n        const today = new Date();\n        today.setHours(0, 0, 0, 0); // Start of today\n\n        if (selectedDate >= today) {\n          setFormData(prev => ({\n            ...prev,\n            deadline: parsedDate\n          }));\n          if (errors.deadline) {\n            setErrors(prev => ({\n              ...prev,\n              deadline: null\n            }));\n          }\n        } else {\n          // Clear the internal date if deadline is in the past\n          setFormData(prev => ({\n            ...prev,\n            deadline: ''\n          }));\n        }\n      } else {\n        // Clear the internal date if input is invalid\n        setFormData(prev => ({\n          ...prev,\n          deadline: ''\n        }));\n      }\n    } else {\n      // Clear the internal date if input is incomplete\n      setFormData(prev => ({\n        ...prev,\n        deadline: ''\n      }));\n    }\n  };\n\n  // Handle date key press for better UX\n  const handleDateKeyPress = e => {\n    // Allow backspace, delete, tab, escape, enter\n    if ([8, 9, 27, 13, 46].indexOf(e.keyCode) !== -1 ||\n    // Allow Ctrl+A, Ctrl+C, Ctrl+V, Ctrl+X\n    e.keyCode === 65 && e.ctrlKey === true || e.keyCode === 67 && e.ctrlKey === true || e.keyCode === 86 && e.ctrlKey === true || e.keyCode === 88 && e.ctrlKey === true) {\n      return;\n    }\n    // Ensure that it is a number or slash and stop the keypress\n    if ((e.shiftKey || e.keyCode < 48 || e.keyCode > 57) && (e.keyCode < 96 || e.keyCode > 105) && e.keyCode !== 191 && e.keyCode !== 111) {\n      e.preventDefault();\n    }\n  };\n\n  // Format date for display\n  const formatDateLong = dateString => {\n    if (!dateString) return '';\n    const date = new Date(dateString);\n    return date.toLocaleDateString('en-US', {\n      weekday: 'long',\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    });\n  };\n  const validateForm = () => {\n    const newErrors = {};\n    if (!formData.name.trim()) {\n      newErrors.name = 'Project name is required';\n    } else if (formData.name.trim().length < 2) {\n      newErrors.name = 'Project name must be at least 2 characters';\n    } else if (formData.name.trim().length > 50) {\n      newErrors.name = 'Project name must be less than 50 characters';\n    }\n    if (!formData.color) {\n      newErrors.color = 'Project color is required';\n    }\n\n    // Validate deadline if enabled\n    if (formData.hasDeadline) {\n      if (!formData.deadline) {\n        if (dateInput.trim()) {\n          newErrors.deadline = 'Please enter a valid date in dd/mm/yy format (e.g., 25/12/24)';\n        } else {\n          newErrors.deadline = 'Deadline date is required when deadline is enabled';\n        }\n      } else {\n        const selectedDate = new Date(formData.deadline + 'T' + (formData.deadlineTime || '00:00'));\n        const now = new Date();\n        const today = new Date(now.getFullYear(), now.getMonth(), now.getDate()); // Start of today\n        const selectedDateOnly = new Date(selectedDate.getFullYear(), selectedDate.getMonth(), selectedDate.getDate());\n\n        // Check if date is in the past\n        if (selectedDate < now) {\n          newErrors.deadline = 'Deadline cannot be in the past';\n        }\n\n        // Additional validation for deadlines - must be today or after today\n        if (selectedDateOnly < today) {\n          newErrors.deadline = 'Deadlines must be set for today or a future date';\n        }\n      }\n      if (!formData.deadlineTime) {\n        newErrors.deadlineTime = 'Deadline time is required when deadline is enabled';\n      }\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (validateForm()) {\n      const projectData = {\n        name: formData.name.trim(),\n        color: formData.color\n      };\n\n      // Include deadline data if enabled\n      if (formData.hasDeadline && formData.deadline && formData.deadlineTime) {\n        const deadlineDateTime = new Date(formData.deadline + 'T' + formData.deadlineTime);\n        projectData.deadline = {\n          date: deadlineDateTime.toISOString(),\n          name: `${formData.name.trim()} Deadline`\n        };\n      }\n      onSave(projectData);\n    }\n  };\n  const handleOverlayClick = e => {\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-overlay\",\n    onClick: handleOverlayClick,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-content project-modal\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: project ? 'Edit Project' : 'Create New Project'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-ghost btn-sm\",\n          onClick: onClose,\n          children: /*#__PURE__*/_jsxDEV(X, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"projectName\",\n              className: \"form-label\",\n              children: \"Project Name *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"projectName\",\n              name: \"name\",\n              type: \"text\",\n              className: `input ${errors.name ? 'input-error' : ''}`,\n              value: formData.name,\n              onChange: handleInputChange,\n              placeholder: \"Enter project name...\",\n              autoFocus: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 15\n            }, this), errors.name && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-error\",\n              children: errors.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Project Color *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"color-palette\",\n              children: [colorPalette.map(color => /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: `color-swatch ${formData.color === color ? 'selected' : ''}`,\n                style: {\n                  backgroundColor: color\n                },\n                onClick: () => handleColorChange(color),\n                title: `Select ${color}`\n              }, color, false, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 19\n              }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: `color-swatch custom-color ${showColorPicker ? 'selected' : ''}`,\n                onClick: () => setShowColorPicker(!showColorPicker),\n                title: \"Custom color\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"+\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 15\n            }, this), showColorPicker && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"color-picker-container\",\n              children: [/*#__PURE__*/_jsxDEV(HexColorPicker, {\n                color: formData.color,\n                onChange: handleColorChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"color-picker-info\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"input color-input\",\n                  value: formData.color,\n                  onChange: e => handleColorChange(e.target.value),\n                  placeholder: \"#000000\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"color-preview\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"color-preview-label\",\n                children: \"Selected color:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"color-preview-swatch\",\n                style: {\n                  backgroundColor: formData.color\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"color-preview-value\",\n                children: formData.color\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 15\n            }, this), errors.color && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-error\",\n              children: errors.color\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"deadline-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"checkbox-label\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  name: \"hasDeadline\",\n                  checked: formData.hasDeadline,\n                  onChange: handleInputChange,\n                  className: \"checkbox\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 376,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"checkbox-text\",\n                  children: \"Set project deadline\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 383,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 375,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-help\",\n                children: \"You can set a deadline for this project or add one later through the events system.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 15\n            }, this), formData.hasDeadline && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"deadline-inputs\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"Deadline Date and Time *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 394,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-help\",\n                  style: {\n                    marginBottom: 'var(--spacing-sm)'\n                  },\n                  children: [\"Please enter the date in \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"dd/mm/yy\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 398,\n                    columnNumber: 48\n                  }, this), \" format (e.g., 25/12/24 for December 25, 2024). Years 00-30 are interpreted as 2000-2030, and years 31-99 as 1931-1999.\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 397,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"datetime-inputs\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"date-input-group\",\n                    children: [/*#__PURE__*/_jsxDEV(Calendar, {\n                      size: 16,\n                      className: \"input-icon\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 403,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      name: \"deadline\",\n                      type: \"text\",\n                      className: `input ${errors.deadline ? 'input-error' : ''}`,\n                      value: dateInput,\n                      onChange: handleDateInputChange,\n                      onKeyDown: handleDateKeyPress,\n                      placeholder: \"dd/mm/yy\",\n                      title: \"Enter date in dd/mm/yy format (e.g., 25/12/24)\",\n                      maxLength: 8\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 404,\n                      columnNumber: 25\n                    }, this), formData.deadline && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"date-display\",\n                      children: [\"\\u2713 \", formatDateLong(formData.deadline)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 416,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 402,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"time-input-group\",\n                    children: [/*#__PURE__*/_jsxDEV(Clock, {\n                      size: 16,\n                      className: \"input-icon\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 423,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      name: \"deadlineTime\",\n                      type: \"time\",\n                      className: `input ${errors.deadlineTime ? 'input-error' : ''}`,\n                      value: formData.deadlineTime,\n                      onChange: handleInputChange\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 424,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 422,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 21\n                }, this), (errors.deadline || errors.deadlineTime) && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-error\",\n                  children: errors.deadline || errors.deadlineTime\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 434,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-footer\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-secondary\",\n            onClick: onClose,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-primary\",\n            children: project ? 'Update Project' : 'Create Project'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 448,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 279,\n    columnNumber: 5\n  }, this);\n};\n_s(ProjectModal, \"51/nQ7uI4rmGvBFnM1rcuMexobk=\");\n_c = ProjectModal;\nexport default ProjectModal;\nvar _c;\n$RefreshReg$(_c, \"ProjectModal\");","map":{"version":3,"names":["React","useState","useEffect","X","Calendar","Clock","HexColorPicker","jsxDEV","_jsxDEV","ProjectModal","project","existingDeadline","onSave","onClose","_s","formData","setFormData","name","color","deadline","deadlineTime","hasDeadline","errors","setErrors","showColorPicker","setShowColorPicker","dateInput","setDateInput","colorPalette","prev","deadlineDate","Date","date","dateValue","toISOString","split","toTimeString","slice","formatDateToShort","handleInputChange","e","value","type","checked","target","handleColorChange","dateString","day","getDate","toString","padStart","month","getMonth","year","getFullYear","parseDateInput","dateStr","parts","length","parseInt","handleDateInputChange","replace","charAt","substring","parsedDate","selectedDate","today","setHours","handleDateKeyPress","indexOf","keyCode","ctrlKey","shiftKey","preventDefault","formatDateLong","toLocaleDateString","weekday","validateForm","newErrors","trim","now","selectedDateOnly","Object","keys","handleSubmit","projectData","deadlineDateTime","handleOverlayClick","currentTarget","className","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","size","onSubmit","htmlFor","id","onChange","placeholder","autoFocus","map","style","backgroundColor","title","marginBottom","onKeyDown","maxLength","_c","$RefreshReg$"],"sources":["/home/carruc/repos/eva-frontend/client/src/components/ProjectModal.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { X, Calendar, Clock } from 'lucide-react';\nimport { HexColorPicker } from 'react-colorful';\nimport './ProjectModal.css';\n\n// Implements requirement D5: Project creation modal with deadline support\nconst ProjectModal = ({ project, existingDeadline, onSave, onClose }) => {\n  const [formData, setFormData] = useState({\n    name: '',\n    color: '#3b82f6',\n    deadline: '',\n    deadlineTime: '23:59', // Default to end of day\n    hasDeadline: false\n  });\n  const [errors, setErrors] = useState({});\n  const [showColorPicker, setShowColorPicker] = useState(false);\n  const [dateInput, setDateInput] = useState(''); // For dd/mm/yy format\n\n  // Predefined color palette\n  const colorPalette = [\n    '#3b82f6', '#ef4444', '#10b981', '#f59e0b', '#8b5cf6',\n    '#ec4899', '#06b6d4', '#84cc16', '#f97316', '#6366f1',\n    '#14b8a6', '#f43f5e', '#8b5a2b', '#64748b', '#dc2626'\n  ];\n\n  // Initialize form data when editing\n  useEffect(() => {\n    if (project) {\n      setFormData(prev => ({\n        ...prev,\n        name: project.name,\n        color: project.color,\n        hasDeadline: !!existingDeadline\n      }));\n\n      // If there's an existing deadline, populate the deadline fields\n      if (existingDeadline) {\n        const deadlineDate = new Date(existingDeadline.date);\n        const dateValue = deadlineDate.toISOString().split('T')[0];\n        setFormData(prev => ({\n          ...prev,\n          deadline: dateValue,\n          deadlineTime: deadlineDate.toTimeString().slice(0, 5)\n        }));\n        setDateInput(formatDateToShort(dateValue));\n      }\n    }\n  }, [project, existingDeadline]);\n\n  const handleInputChange = (e) => {\n    const { name, value, type, checked } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'checkbox' ? checked : value\n    }));\n    \n    // Clear errors when user starts typing\n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: null\n      }));\n    }\n\n    // Clear deadline fields when hasDeadline is unchecked\n    if (name === 'hasDeadline' && !checked) {\n      setFormData(prev => ({\n        ...prev,\n        deadline: '',\n        deadlineTime: '23:59'\n      }));\n      setDateInput('');\n    }\n  };\n\n  const handleColorChange = (color) => {\n    setFormData(prev => ({\n      ...prev,\n      color: color\n    }));\n  };\n\n  // Helper function to format date from YYYY-MM-DD to dd/mm/yy\n  const formatDateToShort = (dateString) => {\n    if (!dateString) return '';\n    const date = new Date(dateString);\n    const day = date.getDate().toString().padStart(2, '0');\n    const month = (date.getMonth() + 1).toString().padStart(2, '0');\n    const year = date.getFullYear().toString().slice(-2); // Last 2 digits\n    return `${day}/${month}/${year}`;\n  };\n\n  // Helper function to parse dd/mm/yy format\n  const parseDateInput = (dateStr) => {\n    const parts = dateStr.split(/[/.-]/);\n    if (parts.length === 3) {\n      const day = parseInt(parts[0], 10);\n      const month = parseInt(parts[1], 10);\n      let year = parseInt(parts[2], 10);\n      \n      // Convert 2-digit year to 4-digit year\n      if (year >= 0 && year <= 30) {\n        year += 2000; // 00-30 -> 2000-2030\n      } else if (year >= 31 && year <= 99) {\n        year += 1900; // 31-99 -> 1931-1999\n      } else if (year >= 1900) {\n        // Already 4-digit year, keep as is\n      } else {\n        return null; // Invalid year\n      }\n      \n      if (day >= 1 && day <= 31 && month >= 1 && month <= 12) {\n        // Convert to YYYY-MM-DD format for internal use\n        return `${year}-${month.toString().padStart(2, '0')}-${day.toString().padStart(2, '0')}`;\n      }\n    }\n    return null;\n  };\n\n  // Handle date input change\n  const handleDateInputChange = (e) => {\n    let value = e.target.value;\n    \n    // Remove all non-numeric characters except slashes\n    value = value.replace(/[^\\d/]/g, '');\n    \n    // Auto-format with slashes as user types\n    if (value.length >= 2 && value.charAt(2) !== '/') {\n      value = value.substring(0, 2) + '/' + value.substring(2);\n    }\n    if (value.length >= 5 && value.charAt(5) !== '/') {\n      value = value.substring(0, 5) + '/' + value.substring(5);\n    }\n    \n    // Limit to 8 characters (dd/mm/yy)\n    if (value.length > 8) {\n      value = value.substring(0, 8);\n    }\n    \n    setDateInput(value);\n    \n    // Only try to parse if we have a complete date (8 characters: dd/mm/yy)\n    if (value.length === 8) {\n      const parsedDate = parseDateInput(value);\n      if (parsedDate) {\n        // Additional validation for deadlines - must be today or future\n        const selectedDate = new Date(parsedDate);\n        const today = new Date();\n        today.setHours(0, 0, 0, 0); // Start of today\n        \n        if (selectedDate >= today) {\n          setFormData(prev => ({ ...prev, deadline: parsedDate }));\n          if (errors.deadline) {\n            setErrors(prev => ({ ...prev, deadline: null }));\n          }\n        } else {\n          // Clear the internal date if deadline is in the past\n          setFormData(prev => ({ ...prev, deadline: '' }));\n        }\n      } else {\n        // Clear the internal date if input is invalid\n        setFormData(prev => ({ ...prev, deadline: '' }));\n      }\n    } else {\n      // Clear the internal date if input is incomplete\n      setFormData(prev => ({ ...prev, deadline: '' }));\n    }\n  };\n\n  // Handle date key press for better UX\n  const handleDateKeyPress = (e) => {\n    // Allow backspace, delete, tab, escape, enter\n    if ([8, 9, 27, 13, 46].indexOf(e.keyCode) !== -1 ||\n        // Allow Ctrl+A, Ctrl+C, Ctrl+V, Ctrl+X\n        (e.keyCode === 65 && e.ctrlKey === true) ||\n        (e.keyCode === 67 && e.ctrlKey === true) ||\n        (e.keyCode === 86 && e.ctrlKey === true) ||\n        (e.keyCode === 88 && e.ctrlKey === true)) {\n      return;\n    }\n    // Ensure that it is a number or slash and stop the keypress\n    if ((e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) && \n        (e.keyCode < 96 || e.keyCode > 105) && \n        e.keyCode !== 191 && e.keyCode !== 111) {\n      e.preventDefault();\n    }\n  };\n\n  // Format date for display\n  const formatDateLong = (dateString) => {\n    if (!dateString) return '';\n    const date = new Date(dateString);\n    return date.toLocaleDateString('en-US', {\n      weekday: 'long',\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    });\n  };\n\n  const validateForm = () => {\n    const newErrors = {};\n\n    if (!formData.name.trim()) {\n      newErrors.name = 'Project name is required';\n    } else if (formData.name.trim().length < 2) {\n      newErrors.name = 'Project name must be at least 2 characters';\n    } else if (formData.name.trim().length > 50) {\n      newErrors.name = 'Project name must be less than 50 characters';\n    }\n\n    if (!formData.color) {\n      newErrors.color = 'Project color is required';\n    }\n\n    // Validate deadline if enabled\n    if (formData.hasDeadline) {\n      if (!formData.deadline) {\n        if (dateInput.trim()) {\n          newErrors.deadline = 'Please enter a valid date in dd/mm/yy format (e.g., 25/12/24)';\n        } else {\n          newErrors.deadline = 'Deadline date is required when deadline is enabled';\n        }\n      } else {\n        const selectedDate = new Date(formData.deadline + 'T' + (formData.deadlineTime || '00:00'));\n        const now = new Date();\n        const today = new Date(now.getFullYear(), now.getMonth(), now.getDate()); // Start of today\n        const selectedDateOnly = new Date(selectedDate.getFullYear(), selectedDate.getMonth(), selectedDate.getDate());\n        \n        // Check if date is in the past\n        if (selectedDate < now) {\n          newErrors.deadline = 'Deadline cannot be in the past';\n        }\n        \n        // Additional validation for deadlines - must be today or after today\n        if (selectedDateOnly < today) {\n          newErrors.deadline = 'Deadlines must be set for today or a future date';\n        }\n      }\n\n      if (!formData.deadlineTime) {\n        newErrors.deadlineTime = 'Deadline time is required when deadline is enabled';\n      }\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    \n    if (validateForm()) {\n      const projectData = {\n        name: formData.name.trim(),\n        color: formData.color\n      };\n\n      // Include deadline data if enabled\n      if (formData.hasDeadline && formData.deadline && formData.deadlineTime) {\n        const deadlineDateTime = new Date(formData.deadline + 'T' + formData.deadlineTime);\n        projectData.deadline = {\n          date: deadlineDateTime.toISOString(),\n          name: `${formData.name.trim()} Deadline`\n        };\n      }\n\n      onSave(projectData);\n    }\n  };\n\n  const handleOverlayClick = (e) => {\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n\n  return (\n    <div className=\"modal-overlay\" onClick={handleOverlayClick}>\n      <div className=\"modal-content project-modal\">\n        <div className=\"modal-header\">\n          <h3>{project ? 'Edit Project' : 'Create New Project'}</h3>\n          <button className=\"btn btn-ghost btn-sm\" onClick={onClose}>\n            <X size={16} />\n          </button>\n        </div>\n\n        <form onSubmit={handleSubmit}>\n          <div className=\"modal-body\">\n            {/* Project name input */}\n            <div className=\"form-group\">\n              <label htmlFor=\"projectName\" className=\"form-label\">\n                Project Name *\n              </label>\n              <input\n                id=\"projectName\"\n                name=\"name\"\n                type=\"text\"\n                className={`input ${errors.name ? 'input-error' : ''}`}\n                value={formData.name}\n                onChange={handleInputChange}\n                placeholder=\"Enter project name...\"\n                autoFocus\n              />\n              {errors.name && (\n                <div className=\"form-error\">{errors.name}</div>\n              )}\n            </div>\n\n            {/* Color selection */}\n            <div className=\"form-group\">\n              <label className=\"form-label\">\n                Project Color *\n              </label>\n              \n              {/* Color palette */}\n              <div className=\"color-palette\">\n                {colorPalette.map((color) => (\n                  <button\n                    key={color}\n                    type=\"button\"\n                    className={`color-swatch ${formData.color === color ? 'selected' : ''}`}\n                    style={{ backgroundColor: color }}\n                    onClick={() => handleColorChange(color)}\n                    title={`Select ${color}`}\n                  />\n                ))}\n                <button\n                  type=\"button\"\n                  className={`color-swatch custom-color ${showColorPicker ? 'selected' : ''}`}\n                  onClick={() => setShowColorPicker(!showColorPicker)}\n                  title=\"Custom color\"\n                >\n                  <span>+</span>\n                </button>\n              </div>\n\n              {/* Custom color picker */}\n              {showColorPicker && (\n                <div className=\"color-picker-container\">\n                  <HexColorPicker \n                    color={formData.color} \n                    onChange={handleColorChange}\n                  />\n                  <div className=\"color-picker-info\">\n                    <input\n                      type=\"text\"\n                      className=\"input color-input\"\n                      value={formData.color}\n                      onChange={(e) => handleColorChange(e.target.value)}\n                      placeholder=\"#000000\"\n                    />\n                  </div>\n                </div>\n              )}\n\n              {/* Color preview */}\n              <div className=\"color-preview\">\n                <span className=\"color-preview-label\">Selected color:</span>\n                <div \n                  className=\"color-preview-swatch\"\n                  style={{ backgroundColor: formData.color }}\n                />\n                <span className=\"color-preview-value\">{formData.color}</span>\n              </div>\n\n              {errors.color && (\n                <div className=\"form-error\">{errors.color}</div>\n              )}\n            </div>\n\n            {/* Deadline section */}\n            <div className=\"form-group\">\n              <div className=\"deadline-section\">\n                <label className=\"checkbox-label\">\n                  <input\n                    type=\"checkbox\"\n                    name=\"hasDeadline\"\n                    checked={formData.hasDeadline}\n                    onChange={handleInputChange}\n                    className=\"checkbox\"\n                  />\n                  <span className=\"checkbox-text\">Set project deadline</span>\n                </label>\n                <div className=\"form-help\">\n                  You can set a deadline for this project or add one later through the events system.\n                </div>\n              </div>\n\n              {/* Deadline date and time inputs */}\n              {formData.hasDeadline && (\n                <div className=\"deadline-inputs\">\n                  <div className=\"form-group\">\n                    <label className=\"form-label\">\n                      Deadline Date and Time *\n                    </label>\n                    <div className=\"form-help\" style={{ marginBottom: 'var(--spacing-sm)' }}>\n                      Please enter the date in <strong>dd/mm/yy</strong> format (e.g., 25/12/24 for December 25, 2024).\n                      Years 00-30 are interpreted as 2000-2030, and years 31-99 as 1931-1999.\n                    </div>\n                    <div className=\"datetime-inputs\">\n                      <div className=\"date-input-group\">\n                        <Calendar size={16} className=\"input-icon\" />\n                        <input\n                          name=\"deadline\"\n                          type=\"text\"\n                          className={`input ${errors.deadline ? 'input-error' : ''}`}\n                          value={dateInput}\n                          onChange={handleDateInputChange}\n                          onKeyDown={handleDateKeyPress}\n                          placeholder=\"dd/mm/yy\"\n                          title=\"Enter date in dd/mm/yy format (e.g., 25/12/24)\"\n                          maxLength={8}\n                        />\n                        {formData.deadline && (\n                          <span className=\"date-display\">\n                            âœ“ {formatDateLong(formData.deadline)}\n                          </span>\n                        )}\n                      </div>\n                      \n                      <div className=\"time-input-group\">\n                        <Clock size={16} className=\"input-icon\" />\n                        <input\n                          name=\"deadlineTime\"\n                          type=\"time\"\n                          className={`input ${errors.deadlineTime ? 'input-error' : ''}`}\n                          value={formData.deadlineTime}\n                          onChange={handleInputChange}\n                        />\n                      </div>\n                    </div>\n                    {(errors.deadline || errors.deadlineTime) && (\n                      <div className=\"form-error\">\n                        {errors.deadline || errors.deadlineTime}\n                      </div>\n                    )}\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n\n          <div className=\"modal-footer\">\n            <button type=\"button\" className=\"btn btn-secondary\" onClick={onClose}>\n              Cancel\n            </button>\n            <button type=\"submit\" className=\"btn btn-primary\">\n              {project ? 'Update Project' : 'Create Project'}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default ProjectModal; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}